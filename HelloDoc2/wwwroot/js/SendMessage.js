"use strict";var connection = new signalR.HubConnectionBuilder().withUrl("/chatHub").build();//connection.on("ReceiveMessage", function (message) {//    console.log("Connection on");//});connection.on("ReceiveMessage", function (articleContent, time, isCurrentUser, RequestId) {    if (!("Notification" in window)) {        console.log("This browser does not support desktop notification");    } else if (Notification.permission === "granted") {        // If it's okay, let's create a notification    } else if (Notification.permission !== 'denied') {        Notification.requestPermission().then(function (permission) {            if (permission === "granted") {                // Show the notification            }        });    }    var req = $("#RequestId").val();    if (req == RequestId) {        var li = document.createElement("li");        var div = document.createElement("div");        if (isCurrentUser) {            li.classList.add("chat");            div.classList.add("chattime");            document.getElementById("chat-ul").appendChild(li);            document.getElementById("chat-ul").appendChild(div);        } else {            li.classList.add("o-chat");            div.classList.add("O-chattime");            document.getElementById("chat-ul").appendChild(li);            document.getElementById("chat-ul").appendChild(div);        }        li.textContent = articleContent;        div.textContent = time;        console.log(document.getElementById("message-input").value);        document.getElementById("message-input").value = "";        showNotification(articleContent);    }});connection.start().then(function () {    console.log("Connection start");}).catch(function (err) {    return console.error(err.toString());});function showNotification(articleContent) {    const options = {        body: ` ${articleContent}`,        icon: '~/images/7774236_3736765.jpg',    };    const notification = new Notification('New Message', options);    setTimeout(() => {        notification.close();    }, 3000);}