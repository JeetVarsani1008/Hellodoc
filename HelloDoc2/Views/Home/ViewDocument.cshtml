@model DAL.Models.RequestWiseFile;@{    Layout = "~/Views/Shared/_LayoutDashboard.cshtml";}<head>    <style>        th:nth-child(1), td:nth-child(1) {            width: 2em;        }        th:nth-child(2), td:nth-child(2) {           width : 30%;        }    </style>
</head><div class="create-patient-main mx-auto container">    <div class="row mt-5 mb-3">        <div class="d-flex justify-content-between">            <h4>Documents</h4>            <button class="btn btn-white border-1 border-info text-info rounded-1" onclick="@("window.location.href='" + @Url.Action("PatientDashboard", "Home") + "'");">&lt; &nbspBack</button>        </div>    </div>    <div class="row shadow">        <div class="ps-3">            <p class="mt-3 " style="font-size:14px;">Patient Name</p>            <h5 class="text-info "><strong>@ViewBag.UserName </strong> <small class="text-muted fs-6">(Md502889123012)</small> </h5>            <p class="text-muted h6 mb-4 mt-3">Check here for any files that you or the doctors of your subsequents requestor have attched for you to review </p>            <div class="rounded-1 border-1 d-flex justify-content-between mb-5  ">                <div class="input-group mb-3 mt-3">                    <input id="selected-file-by-patietent" type="text" class="form-control p-2" placeholder="Select File" disabled>                    <button class="btn-color-for-upload" type="button" id="upload" style="background-color: #01bce9;border: 1px solid #01bce9;color: white;">                        <i class="bi bi-cloud-arrow-up mr-1"></i>                         <span class="for-remove-upload">Upload</span>                    </button>                    <input id="uploadfile" multiple class="file-input-hover-effect" type="file" style="position: absolute; right: -8px;top: 0.5rem; opacity: 0;" onchange="uploadFile(@ViewBag.reqid)">                </div>            </div>        </div>        <div class="d-flex justify-content-between ps-3 mb-4">            <h4>Documents</h4>            <a class="btn btn-white border-1 border-info text-info rounded-1" asp-route-reqId="@ViewBag.reqid" asp-action="DownloadAll" asp-controller="Home">Download All</a>        </div>        <table class="table sorttable mb-0 ">            <thead class="thead" style="background-color:#f1f1f1;">                <tr>                    <th scope="col">                        <div class="checkbox">                            <input type="checkbox" class="check" id="checkAll">                        </div>                    </th>                    <th></th>                    <th scope="col">Uploader</th>                    <th scope="col">Upload Date</th>                    <th scope="col">Action</th>                </tr>            </thead>                        <tbody>                @foreach (var item in (List<DAL.Models.RequestWiseFile>)ViewBag.document)
                {                    <tr>                        <td>                            <div class="checkbox d-flex align-items-center ">                                <input type="checkbox" class="check">                            </div>                        </td>                        <td>                                <p>@item.FileName</p>
                        </td>                        <td>@ViewBag.Uploader</td>                        <td>@item.CreatedDate.Date.ToString("MMM dd, yyyy") </td>                        <td>                                                        <a class="btn-white text-info border-1 border-info  rounded-1 p-2" asp-action="Download" asp-route-documentid="@item.RequestWiseFileId"  asp-controller="Home"><i class="bi bi-cloud-arrow-down text-info  "></i></a>                            </td>                    </tr>                }            </tbody>        </table>    </div></div><script>    document.getElementById("checkAll").addEventListener("click", function () {        var checkboxes = document.querySelectorAll(".check");        checkboxes.forEach(function (checkbox) {            checkbox.checked = document.getElementById("checkAll").checked;        });    });</script><script>    function uploadFile(x) {        const url = document.getElementById('uploadfile');        const file = url.files[0]        const formData = new FormData();        formData.append('Filepath', file);        $.ajax({            method: "POST",            url: "/Home/Upload/",            data: formData,            processData: false,            contentType: false,            success: function (data) {                console.log("success");                window.location.href = "/Home/ViewDocument/" + x;            },            error: function (xhr, status, error) {                console.log("eroor123")                console.error(xhr.responseText);            },        });    }</script><script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script><script>    const fileInput = document.getElementById('uploadfile');    const fileNameField = document.getElementById('selected-file-by-patietent');    // Listen for the change event on the file input element    fileInput.addEventListener('change', (event) => {        // Get the selected file(s)        const files = event.target.files;        // If one or more files are selected        if (files.length > 0) {            // Get the name of the first file            const fileName = files[0].name;            // Update the value of the input field with the file name            fileNameField.value = fileName;        } else {            // If no files are selected, clear the input field            fileNameField.value = '';        }    });</script>