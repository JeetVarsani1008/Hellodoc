@model DAL.ViewModel.ProviderVm; @{	Layout = "~/Views/Shared/_LayoutMainAdminDashboard.cshtml";}<style>    input[type="checkbox"] {        transform: scale(1.5);    }</style><div class="bg-body-tertiary ">    <div class="container">        @*Page Header*@        <div class="d-flex justify-content-between">            <h3 class="mt-4 mb-4"> Edit Physician Account </h3>            <a asp-controller="Admin" asp-action="Provider">                <span type="button" class="btn btn-outline-primary border-info text-info mt-3 mb-4 ">&lt; Back</span>            </a>        </div>        @*FIRST*@        <h4 class="my-3">Account Information</h4>        <form asp-action="EditPhysicianPassword" asp-controller="Admin">        <input asp-for="PhysicianId" hidden />        <div class="row g-3">            <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6">                <input type="text" class="form-control" id="pi_name" placeholder="username" asp-for="UserName">                <label class="ms-2">Username</label>            </div>            <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6">                <input type="password" class="form-control enabled" id="pi_name" placeholder="password" asp-for="Password" >                <label class="ms-2">Password</label>            </div>            <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6">                <select class="form-select w-100" aria-label="Default select example" >                    <option selected>Active</option>                </select>                <label class="ms-2">Status</label>            </div>            <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6">                <select class="form-select w-100" aria-label="Default select example" >                    <option selected>Physician</option>                </select>                <label class="ms-3">Role</label>            </div>            <div class="d-flex justify-content-end p-2">                    <button type="button" class="btn btn-info text-white my-1 mx-1" id="resetEdit">Edit </button>                                    <button type="submit" class="btn btn-outline-info border-info text-info my-1 mx-1" id="resetButton" >Reset Password</button>            </div>        </div>        </form>        @*Second Div*@        <h2>Administrator Information</h2>        <form asp-action="PhysicianEditDetails1" asp-controller="Admin">        <input asp-for="PhysicianId" hidden />        <div class="row g-2">            @*Firstnanme*@            <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6">                <input type="text" class="form-control enabled1" id="pi_name" placeholder="FirstName" asp-for="FirstName" readonly>                <label class="">First Name</label>            </div>            @*Lastname*@            <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6">                    <input type="text" class="form-control enabled1" id="pi_name" placeholder="LastName" asp-for="LastName" readonly>                <label>Last Name</label>            </div>            @*Email*@            <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6">                    <input type="email" class="form-control enabled1" id="email" placeholder="Email" asp-for="Email" readonly>                <label>Email</label>            </div>            @*Phone*@            <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6">                    <input type="text" class="form-control enabled1" id="pi_name" placeholder="Mobile" asp-for="Phone" readonly>                <label>Phone</label>            </div>            @*Lastname*@            <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6">                    <input type="text" class="form-control enabled1" id="pi_name" placeholder="MedicalLicence" asp-for="MedicalLicence" readonly>                <label>Medical Licence #</label>            </div>            @*NPI number*@            <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6">                    <input type="text" class="form-control enabled1" id="pi_name" placeholder="NPI_Number" asp-for="NPINumber" readonly>                <label>NPI Number</label>            </div>            @*synchronization email address*@            <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6">                    <input type="text" class="form-control enabled1" id="pi_name" placeholder="Synchronization Email Address" asp-for="SynchronizationEmail" readonly>                <label>Synchronization Email Address</label>            </div>              <div class="col-sm-6 form-floating mb-3 d-flex flex-wrap">                @foreach (var item in Model.regions)                {                    <div class="form-check me-3">                        @if (Model.physicianRegions.Count(x => x.RegionId == item.RegionId) > 0)                        {                            <input class="form-check-input administrativeinfo enabled1" name="checkboxForAll" type="checkbox" checked  value="@item.RegionId" id="checkbox-@item.RegionId" />                        }                        else                        {                            <input class="form-check-input administrativeinfo enabled1" name="checkboxForAll" type="checkbox" value="@item.RegionId" />                        }                        <label class="form-check-label" for="checkbox-@item.RegionId" style="font-size: 15px; margin:0px;">@item.Name</label>                    </div>                }            </div>            @*info change*@            <div class="col-12 d-flex justify-content-end">                <button type="button" class="btn btn-outline-primary colorbtn" id="editbtn1">Edit</button>                    <button type="submit" name="command" value="2" class="btn btn-primary me-2 colorbtn" id="savebtn1" style="display:none">Save</button>                <button type="button" class="btn btn-outline-primary colorlessbtn" id="cancelbtn1" style="display:none">Cancel</button>            </div>        </div>    </form>    @*THIRD*@    <h4 class="my-3">Mailing & Billing Information</h4>        <form asp-action="PhysicianEditDetails2" asp-controller="Admin" method="post">            <input asp-for="PhysicianId" hidden />            <div class="row g-2">                <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6">                    <input type="text" class="form-control enabled2" id="" placeholder="Address1"  asp-for="Address1" readonly>                    <label>Address #1</label>                </div>                <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6">                    <input type="text" class="form-control enabled2" id="" placeholder="Address2" asp-for="Address2" readonly>                    <label>Address #2</label>                </div>                <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6 ">                    <input type="text" class="form-control enabled2" id="" placeholder="City" asp-for="City" readonly>                    <label>City</label>                </div>@*                 <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6 ">                    <input type="text" class="form-control enabled2" id="" placeholder="State" asp-for="State">                    <label>State</label>                </div> *@                <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6">                    <select class="form-select w-100 enabled2" aria-label="Default select example" id="regionSelect" required asp-for="RegionId" readonly>                    <option hidden>Narrow Search by Region</option>                    @foreach (var obj in Model.regions)
                    {                        <option value="@obj.RegionId">                            @obj.Name                        </option>                    }                </select>                </div>                <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6 ">                    <input type="text" class="form-control enabled2" id="" placeholder="Zipcode" asp-for="Zip" readonly>                    <label>Zip</label>                </div>                <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6">                    <input type="text" class="form-control enabled2" id="" placeholder="Phone" asp-for="AltPhone" readonly>                    <label>Phone</label>                </div>                <div class="col-12 d-flex justify-content-end">                    <button type="button" class="btn btn-outline-primary colorbtn" id="editbtn2">Edit</button>                    <button type="submit" name="command" value="2" class="btn btn-primary me-2 colorbtn" id="savebtn2" style="display:none">Save</button>                    <button type="button" class="btn btn-outline-primary colorlessbtn" id="cancelbtn2" style="display:none">Cancel</button>                </div>            </div>        </form>    @*FOURTH*@    <h4 class="my-3">Provider Profile </h4>    <form asp-action="PhysicianEditDetails3" asp-controller="Admin">        <input asp-for="PhysicianId" hidden />        <div class="row g-2">        <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6">            <input type="text" class="form-control enabled3" id="" placeholder="BusinessName" readonly asp-for="BusinessName">            <label>Business Name</label>        </div>        <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6">                    <input type="text" class="form-control enabled3" id="" placeholder="Business Website" readonly asp-for="BusinessWebsite">            <label>Business Website </label>        </div>        <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6">            <div class="input-group">                        <input type="file" class="form-control mb-0 enabled3" id="uploadphoto" readonly asp-for="Photo">                <button type="button" id="upload-btn" class="btn btn-info text-white" onclick="uploadPhoto()">                    <i class="bi bi-cloud-arrow-up me-1"></i>                    <span class="d-none d-sm-inline-block">Photo</span>                </button>            </div>        </div>        <div class="form-floating mb-3 col-sm-10 col-md-5 col-lg-5 ">            <div class="input-group">                        <input type="file" class="form-control mb-0 enabled3" id="uploadsignature" readonly asp-for="Signature">                        <button type="button" id="upload-btn" class="btn btn-info text-white" onclick="uploadSignature()">                    <i class="bi bi-cloud-arrow-up me-1"></i>                    <span class="d-none d-sm-inline-block">Signature</span>                </button>            </div>        </div>        <div class="form-floating mb-3 col-sm-2 col-md-1 col-lg-1">            <button type="button" class="btn btn-info text-white ml-2">                Create            </button>        </div>                @if(Model.Photo != null)
                {
                    <div class="col-md-6 col-lg-6">
                        <img src="~/upload/@Model.Photo" style="height:200px; width:200px"/>
                    </div>
                }                @if(Model.Signature != null)
                {
                    <div class="col-md-6 col-lg-6">                        <img src="~/upload/@Model.Signature" class="w-25 h-25"/>
                    </div>    
                }        <div class="form-floating mb-3 col-sm-12 col-md-12 col-lg-12">                    <textarea class="form-control enabled3 h-100 enabled3" id="patientSymptoms" placeholder="Textarea" rows="5" readonly asp-for="AdminNotes"></textarea>            <label for="patientSymptoms" class="text-wrap ">Admin Notes</label>        </div>                <div class="col-12 d-flex justify-content-end">                    <button type="button" class="btn btn-outline-primary colorbtn" id="editbtn3">Edit</button>                    <button type="submit" name="command" value="2" class="btn btn-primary me-2 colorbtn" id="savebtn3" style="display:none">Save</button>                    <a href="#" type="button" class="btn btn-outline-primary colorlessbtn" id="cancelbtn3" style="display:none">Cancel</a>                </div>        </div>    </form>    <hr />         @*FIFTH*@    <h4 class="my-3">Onboarding </h4>        <form method="post" asp-action="UploadFileForPhysician" asp-controller="Admin" enctype="multipart/form-data">        <input hidden asp-for="PhysicianId"/>
        <div class="container-fluid">        @* onboardibg-one *@        <div class="row d-flex align-items-center">            <div class="col-sm-1 col-md-1 col-lg-1 d-flex justify-content-center ">                <input type="checkbox" name="Mark" class="checkbox me-2" @(Model.IsAgreementDoc ? "checked" : "") />            </div>
            <div class="col-md-3 col-lg-3">
                Independent Contractor Agreement
            </div>
            <div class="col-md-1 col-lg-1">                    <input type="file" class="d-none" id="agreementDoc" asp-for="AgreementDoc" />                    <label for="agreementDoc" class="btn btn-info text-white my-1 mx-1">Upload</label>            </div>
                @if (Model.IsAgreementDoc)
                {
                    <div class="col-md-1 col-lg-1">                            <a href="~/upload/@(Model.PhysicianId)_AgreementDoc.pdf" target="_blank" type="button" class="btn btn-info text-white my-1 mx-1">View</a>                    </div>  
                }
        </div>        @* onboardibg-two *@        <div class="row d-flex align-items-center">            <div class="col-sm-1 col-md-1 col-lg-1 d-flex justify-content-center ">                        <input type="checkbox" name="Mark" id="1" class="checkbox me-2" @(Model.IsBackgroundDoc ? "checked" : "") value="@Model.PhysicianId"/>                </div>
            <div class="col-md-3 col-lg-3">
                Background Check
            </div>
            <div class="col-md-1 col-lg-1">                        <input type="file" class="d-none" id="backgroundDoc" asp-for="BackgroundDoc" />                        <label for="backgroundDoc" class="btn btn-info text-white my-1 mx-1">Upload</label>            </div>
                @if (Model.IsBackgroundDoc)
                {
                    <div class="col-md-1 col-lg-1">
                        <a href="~/upload/@(Model.PhysicianId)_BackgroundDoc.pdf" target="_blank" type="button" class="btn btn-info text-white my-1 mx-1">View</a>                    </div>
                }
        </div>                @* curreently this is not working because where to store this dont know  *@        @* this is un used for now *@        @* onboardibg-three *@        @* <div class="row d-flex align-items-center">            <div class="col-sm-1 col-md-1 col-lg-1 d-flex justify-content-center ">
                <input type="checkbox" name="Mark" class="checkbox me-2" />
            </div>
            <div class="col-md-3 col-lg-3">
                HIPAA Compliance
            </div>
            <div class="col-md-1 col-lg-1">
                <button type="button" class="btn btn-info text-white my-1 mx-1">Upload</button>            </div>
            <div class="col-md-1 col-lg-1">
                <a type="button" class="btn btn-info text-white my-1 mx-1">View</a>            </div>
        </div> *@                @* onboardibg-four *@        <div class="row d-flex align-items-center">            <div class="col-sm-1 col-md-1 col-lg-1 d-flex justify-content-center ">                        <input type="checkbox" name="Mark" id="2" class="checkbox me-2" @(Model.IsNonDisclosureDoc ? "checked" : "") value="@Model.PhysicianId"/>                    </div>
            <div class="col-md-3 col-lg-3">
                Non disclosure Agreement
            </div>
            <div class="col-md-1 col-lg-1">
                <input type="file" class="d-none" id="nonDisclosureDoc" asp-for="NonDisclosureDoc" />                <label for="nonDisclosureDoc" type="button" class="btn btn-info text-white my-1 mx-1">Upload</label>            </div>
                @if (Model.IsNonDisclosureDoc)
                {                    <div class="col-md-1 col-lg-1">                        <a href="~/upload/@(Model.PhysicianId)_NonDisclosureDoc.pdf" target="_blank" type="button" class="btn btn-info text-white my-1 mx-1">View</a>                    </div>                } 
        </div>                @* onboardibg-five *@        <div class="row d-flex align-items-center">            <div class="col-sm-1 col-md-1 col-lg-1 d-flex justify-content-center ">                 <input type="checkbox" name="Mark" id="3" class="checkbox me-2" @(Model.IsLicenseDoc ? "checked" : "") value="@Model.PhysicianId"/>            </div>
            <div class="col-md-3 col-lg-3">
                Licence Document
            </div>
            <div class="col-md-1 col-lg-1">
                <input type="file" class="d-none" id="licenseDoc" asp-for="LicenseDoc" />
                <label for="licenseDoc" class="btn btn-info text-white my-1 mx-1">Upload</label>            </div>
                @if (Model.IsLicenseDoc)
                {
                    <div class="col-md-1 col-lg-1">
                        <a href="~/upload/@(Model.PhysicianId)_LicenseDoc.pdf" target="_blank" class="btn btn-info text-white my-1 mx-1">View</a>                    </div> 
                }
        </div>                    <hr />    </div>        <div class="d-flex justify-content-end p-2">            <button type="submit" class="btn btn-info text-white my-1 mx-1">                Save            </button>            <button type="button" class="btn btn-danger text-white my-1 mx-1">                Delete Account            </button>        </div>        </form>    </div></div><script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script><script>    const editbtn = document.getElementById('resetEdit');    const resetbtn = document.getElementById('resetButton');
    const enabled = document.getElementsByClassName('enabled');

    editbtn.addEventListener('click', function (e) {        for (let i = 0; i < enabled.length; i++) {            enabled[i].disabled = false;        }        resetbtn.style.display = 'block';        this.style.display = 'none'    });    resetbtn.addEventListener('click', function (e) {        for (let i = 0; i < enabled.length; i++) {            enabled[i].disabled = true;        }        editbtn.style.display = 'block';        this.style.display = 'none';    });    //this is for section two - save edit and cancel button        const editbtn1 = document.getElementById('editbtn1');        const savebtn1 = document.getElementById('savebtn1');        const cancelbtn1 = document.getElementById('cancelbtn1');        const enabled1 = document.getElementsByClassName('enabled1');        editbtn1.addEventListener('click', function (e) {            for (let i = 0; i < enabled1.length; i++) {                enabled1[i].readOnly = false;            }            savebtn1.style.display = 'block';            cancelbtn1.style.display = 'block';            this.style.display = 'none'        });                cancelbtn1.addEventListener('click', function (e) {            for (let i = 0; i < enabled1.length; i++) {                enabled1[i].readOnly = true;            }            savebtn1.style.display = 'none';            editbtn1.style.display = 'block';            this.style.display = 'none'        });                savebtn1.addEventListener('click', function (e) {            for (let i = 0; i < enabled1.length; i++) {                enabled1[i].readOnly = true;            }            editbtn1.style.display = 'block';            cancelbtn1.style.display = 'none';            this.style.display = 'none'        });        //this is for section three - save edit and cancel button        const editbtn2 = document.getElementById('editbtn2');        const savebtn2 = document.getElementById('savebtn2');        const cancelbtn2 = document.getElementById('cancelbtn2');        const enabled2 = document.getElementsByClassName('enabled2');        editbtn2.addEventListener('click', function (e) {            for (let i = 0; i < enabled2.length; i++) {                enabled2[i].readOnly = false;            }            savebtn2.style.display = 'block';            cancelbtn2.style.display = 'block';            this.style.display = 'none'        });                cancelbtn2.addEventListener('click', function (e) {            for (let i = 0; i < enabled2.length; i++) {                enabled2[i].readOnly = true;            }            savebtn2.style.display = 'none';            editbtn2.style.display = 'block';            this.style.display = 'none'        });                savebtn2.addEventListener('click', function (e) {            for (let i = 0; i < enabled2.length; i++) {                enabled2[i].readOnly = true;            }            editbtn2.style.display = 'block';            cancelbtn2.style.display = 'none';            this.style.display = 'none'        });        //this is for section fourth - save edit and cancel button        const editbtn3 = document.getElementById('editbtn3');        const savebtn3 = document.getElementById('savebtn3');        const cancelbtn3 = document.getElementById('cancelbtn3');        const enabled3 = document.getElementsByClassName('enabled3');        editbtn3.addEventListener('click', function (e) {            for (let i = 0; i < enabled3.length; i++) {                enabled3[i].readOnly = false;            }            savebtn3.style.display = 'block';            cancelbtn3.style.display = 'block';            this.style.display = 'none'        });        cancelbtn3.addEventListener('click', function (e) {            for (let i = 0; i < enabled3.length; i++) {                enabled3[i].readOnly = true;            }            savebtn3.style.display = 'none';            editbtn3.style.display = 'block';            this.style.display = 'none'        });        savebtn3.addEventListener('click', function (e) {            for (let i = 0; i < enabled3.length; i++) {                enabled3[i].readOnly = true;            }            editbtn3.style.display = 'block';            cancelbtn3.style.display = 'none';            this.style.display = 'none'        });    // this ajax is for upload signature     function uploadSignature(x) {        const url = document.getElementById('uploadsignature');        const file = url.files[0];        // Check if a file is selected        if (!file) {            return; // No file selected, do nothing        }        // Check file type        if (file.type !== 'image/jpeg' && file.type !== 'image/png') {            // Show SweetAlert if file type is not allowed            Swal.fire({                icon: 'error',                title: 'Oops...',                text: 'Only JPG and PNG files are allowed!',            });            return; // Abort the upload process        }        const formData = new FormData();        formData.append('Filepath', file);        $.ajax({            method: "POST",            url: "/Admin/UploadSign/",            data: formData,            processData: false,            contentType: false,            success: function (data) {                // Show success message                Swal.fire({                    icon: 'success',                    title: 'Success!',                    text: 'Signature added successfully. Please save changes to reflect it.',                });                console.log("success");            },            error: function (xhr, status, error) {                console.log("eroor123")                console.error(xhr.responseText);            },        });    }    //this ajax is for update photo    function uploadPhoto(x) {        const url = document.getElementById('uploadphoto');        const file = url.files[0];        // Check if a file is selected        if (!file) {            return; // No file selected, do nothing        }        // Check file type        if (file.type !== 'image/jpeg' && file.type !== 'image/png') {            // Show SweetAlert if file type is not allowed            Swal.fire({                icon: 'error',                title: 'Oops...',                text: 'Only JPG and PNG files are allowed!',            });            return; // Abort the upload process        }        const formData = new FormData();        formData.append('Filepath', file);        $.ajax({            method: "POST",            url: "/Admin/UploadPhoto/",            data: formData,            processData: false,            contentType: false,            success: function (data) {                // Show success message                Swal.fire({                    icon: 'success',                    title: 'Success!',                    text: 'Photo added successfully. Please save changes to reflect it.',                });                console.log("success");            },            error: function (xhr, status, error) {                console.log("eroor123")                console.error(xhr.responseText);            },        });    }</script> @{    // Check the TempData value
    var uploadStatus = TempData["UploadStatus"] as string;}<script>    // Display SweetAlert based on TempData value    $(document).ready(function () {    @if (uploadStatus == "success")    {        @:Swal.fire({        @:icon: 'success',        @:title: 'Success',        @:text: 'Documents uploaded successfully!'        @:});    }
    else if (uploadStatus == "error")
    {        @:Swal.fire({        @:icon: 'error',        @:title: 'Oops...',        @:text: 'Failed to upload documents. Please try again.'        @:});    }        });    ['licenseDoc', 'nonDisclosureDoc', 'agreementDoc', 'backgroundDoc'].forEach(function (id) {        var fileInput = document.getElementById(id);        if (fileInput) {            fileInput.addEventListener('change', function () {                var filePath = this.value;                var allowedExtensions = /(\.pdf)$/i;                if (!allowedExtensions.exec(filePath)) {                    Swal.fire({                        icon: 'error',                        title: 'Oops...',                        text: 'You can only upload PDF files!',                    });                    // Clear the file input                    this.value = '';                    return false;                }            });        }    });</script>