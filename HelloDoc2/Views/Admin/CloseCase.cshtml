@{    Layout = "~/Views/Shared/_LayoutMainAdminDashboard.cshtml";}@model DAL.ViewModel.CloseCaseVm;<div class="container d-flex flex-column gap-2 p-3 ">    <div class="heading">        <div class="d-flex justify-content-between align-items-center mx-3 mt-5">            <h4>Close Case</h4>            <a asp-controller="Admin" asp-action="AdminDashboard" class="btn shadow  btn-outline-secondary border-info text-info px-3 ">                <i class="fa-solid fa-angle-left"></i> Back            </a>        </div>    </div>    <div class="outerbox1 mb-5 shadow p-3 rounded fw-bold">        <div class="my-4">            <div class="d-flex justify-content-between flex-column flex-lg-row">                <div>                    <div class="text-secondary">Patient Name  </div>                    <div class="d-flex flex-column flex-lg-row align-items-left ">                        <span class="fw-bolder fs-5 text-info">@(Model.FirstName?? "User") @(Model.LastName?? "User1")</span>                        <span class="fs-6 mt-1">(MD05122486257)</span>                    </div>                </div>                <button type="button" class="btn btn-outline-info" width="50%" id="createinvoicebtn">Create Invoice Through Quickbooks</button>            </div>            <div class="d-flex justify-content-between mt-2">                <div class="fs-4 fw-bolder mt-2">Documents</div>            </div>        </div>            @if(Model.getFilesForCloseCase.Count > 0)
            {        <table class="table">            <thead>
                <tr style="background-color: rgba(160, 160, 160, 0.137) !important">                    <td width="60%" style="background-color: rgba(160, 160, 160, 0.137) !important">File Name</td>                    <td width="30%" style="background-color: rgba(160, 160, 160, 0.137) !important">Upload Date &nbsp;<i class="fa fa-arrow-up" aria-hidden="true"></i></td>                    <td width="10%" style="background-color: rgba(160, 160, 160, 0.137) !important">Actions</td>                </tr>            </thead>
            <tbody>                @foreach(var item in Model.getFilesForCloseCase)
                {
                        <tr>                            <td><i class="bi bi-file-earmark-pdf-fill text-danger  ms-3 me-2" style="font-size:1.25rem"></i><span class="fs-6">@item.FileName</span></td>                            <td>@item.CreatedDate.ToString("MMM dd, yyyy")</td>                            <td>                                <a download class="btn btn-outline-primary text-info border-1 border-info rounded-3 me-2 download-link" asp-controller="Admin" asp-action="ViewUploadDownload" asp-route-documentId="@item.RequestWiseFileId"><i class="bi bi-cloud-arrow-down text-info"></i></a>                            </td>                        </tr>
                }
            </tbody>        </table>            }            else
            {                    <td>                        No Data Found                    </td>            }        @* Accordian *@        <div class="documentsdata b-block d-md-none" style="margin-left: 15px; padding-bottom: 2px;">            @foreach (var item in Model.getFilesForCloseCase)            {                <div style="margin-bottom: 10px;">                    <span style=" font-size: 14px;"><i class="bi bi-filetype-pdf ml-2" style="color: red; font-size: 20px; margin-left: 5px;"></i>&nbsp;&nbsp;@item.FileName</span>                </div>                <div style="margin-bottom: 10px; font-size: 13px;">                    @item.CreatedDate.Date.ToString("MMM dd, yyyy")                </div>                <div style="margin-bottom: 20px !important;">                    <a download class="btn btn-outline-primary text-info border-1 border-info rounded-3 me-2 download-link" asp-controller="Admin" asp-action="ViewUploadDownload" asp-route-documentId="@item.RequestWiseFileId"><i class="bi bi-cloud-arrow-down text-info"></i></a>                    <a class="btn btn-outline-primary text-info border-1 border-info rounded-3 me-2" asp-controller="Admin" asp-action="ViewUploadDelete" asp-route-documentId="@item.RequestWiseFileId" asp-route-requestId="@item.RequestId"><i class="bi bi-trash"></i></a>                </div>            }        </div>        <form asp-action="CloseCaseEdit" asp-controller="Admin" method="post">            <div class="row" style="margin: 20px 10px 10px 10px;">                <h4>Patient Information</h4>                <input type="hidden" asp-for="RequestId" />                <div class=" col-md-6 mb-2">                    <div class="form-floating">                        <input asp-for="FirstName" type="text" class="form-control" id="floatingInput" placeholder="First Name" disabled>                        <label for="floatingInput">First Name</label>                    </div>                </div>                <div class=" col-md-6">                    <div class="form-floating mb-2">                        <input asp-for="LastName" type="text" class="form-control" id="floatingInput" placeholder="Last Name" disabled>                        <label for="floatingInput">Last Name</label>                    </div>                </div>                <div class="col-md-6 m-0">                    <div class="form-floating mb-2">                        <input asp-for="DateOfBirth" type="date" class="form-control" id="floatingInput" placeholder="DateOfBirth" style="font-size: 15px;" disabled>                        <label for="floatingInput">Date Of Birth</label>                    </div>                </div>                <div class="col-lg-5 col-md-4 col-sm-10 col-10 m-0">                    <div class="form-floating mb-2">                        <input asp-for="PhoneNumber" type="text" name="phonenumber" class="form-control enabled" id="Emailforlogin" disabled>                        <label for="PhoneNumber">Phone Number</label>                    </div>                </div>                <div class="col-md-2 col-lg-1 col-sm-2 col-2 mt-2">                    <div class="btn btn-outline-info d-flex justify-content-center align-items-center" style="height: 3.7rem;width: 100% !important;">                        <i class="bi bi-telephone-fill" style="font-size: 20px;"></i>                    </div>                </div>                <div class=" col-md-6">                    <div class="form-floating">                        <input asp-for="Email" type="email" class="form-control enabled" id="Emailforlogin" placeholder="name@example.com" disabled>                        <label for="Emailforlogin">Email</label>                    </div>                </div>                <div class="col-12 mt-4 d-flex justify-content-end" style="margin-bottom: 20px;">                    <button type="button" class="btn btn-primary me-2" id="closecaseeditbtn">Edit</button>                    <button type="submit" name="command" value="2" class="btn btn-outline-primary" id="closebtn">Close Case</button>                    <button type="submit" name="command" value="1" class="btn btn-primary me-2" id="closecasesavebtn" style="display: none;">Save</button>                    <a href="#" type="button" class="btn btn-outline-primary" id="closecasecancelbtn" style="color: #01bce9; border-color: #01bce9; display: none;">Cancel</a>                </div>            </div>        </form>    </div></div><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>    <script>        function toggle(source) {            checkboxes = document.getElementsByClassName('foo');            for (var i = 0; i < checkboxes.length; i++) {                checkboxes[i].checked = source.checked;            }        }    </script>    <script>        function uploadFile(x) {            const url = document.getElementById('uploadfile');            const file = url.files[0]            const formData = new FormData();            formData.append('Filepath', file);            $.ajax({                method: "POST",                url: "/Admin/Upload/",                data: formData,                processData: false,                contentType: false,                success: function (data) {                    console.log("success");                    window.location.reload()                },                error: function (xhr, status, error) {                    console.log("eroor123")                    console.error(xhr.responseText);                },            });        }    </script>    <script>        var editbtn = document.getElementById('closecaseeditbtn')        var submitcancel = document.getElementById('closecasesavebtn')        var cancelbtn = document.getElementById('closecasecancelbtn');        var closecase = document.getElementById('closebtn');        var enabled = document.getElementsByClassName('enabled')        editbtn.addEventListener('click', function (e) {            for (var index = 0; index < enabled.length; index++) {            enabled[index].disabled = false;            }            submitcancel.style.display = "block";            cancelbtn.style.display = "block";            closecase.style.display = "none";            this.style.display = "none"        })        cancelbtn.addEventListener('click', function (e) {            for (var index = 0; index < enabled.length; index++) {            enabled[index].disabled = true;            }            submitcancel.style.display = "none";            editbtn.style.display = "block";            closecase.style.display = "block";            this.style.display = "none"        })    </script>